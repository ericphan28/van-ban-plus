<Page x:Class="AIVanBan.Desktop.Views.AIGeneratorPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:sys="clr-namespace:System;assembly=mscorlib"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      Title="AI Táº¡o vÄƒn báº£n">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" Text="âœ¨ AI Táº O VÄ‚N Báº¢N Tá»° Äá»˜NG" 
                   FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="400"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Input Form -->
            <materialDesign:Card Grid.Column="0" Padding="20" Margin="0,0,15,0" VerticalAlignment="Top">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="ðŸ“‹ THÃ”NG TIN VÄ‚N Báº¢N" FontWeight="Bold" FontSize="16" Margin="0,0,0,15"/>

                        <!-- Document Type -->
                        <ComboBox x:Name="cboDocType" 
                                 materialDesign:HintAssist.Hint="Loáº¡i vÄƒn báº£n *"
                                 Style="{StaticResource MaterialDesignOutlinedComboBox}"
                                 Margin="0,0,0,15"
                                 SelectionChanged="DocumentType_Changed"/>

                        <!-- Number -->
                        <TextBox x:Name="txtNumber" 
                                materialDesign:HintAssist.Hint="Sá»‘ vÄƒn báº£n (VD: 123/CV-UBND)"
                                Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                Margin="0,0,0,15"/>

                        <!-- Issue Date -->
                        <DatePicker x:Name="dpIssueDate" 
                                   materialDesign:HintAssist.Hint="NgÃ y ban hÃ nh"
                                   Style="{StaticResource MaterialDesignOutlinedDatePicker}"
                                   Margin="0,0,0,15"/>

                        <!-- Issuer -->
                        <TextBox x:Name="txtIssuer" 
                                materialDesign:HintAssist.Hint="CÆ¡ quan ban hÃ nh (VD: UBND XÃ£ HÃ²a BÃ¬nh)"
                                Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                Margin="0,0,0,15"/>

                        <!-- Recipient -->
                        <TextBox x:Name="txtRecipient" 
                                materialDesign:HintAssist.Hint="NgÆ°á»i nháº­n/ÄÆ¡n vá»‹ nháº­n"
                                Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                Margin="0,0,0,15"/>

                        <!-- Subject -->
                        <TextBox x:Name="txtSubject" 
                                materialDesign:HintAssist.Hint="TrÃ­ch yáº¿u/Vá» viá»‡c"
                                Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                Margin="0,0,0,15"
                                TextWrapping="Wrap"
                                MinHeight="60"/>

                        <!-- Main Content -->
                        <TextBox x:Name="txtMainContent" 
                                materialDesign:HintAssist.Hint="Ná»™i dung chÃ­nh (AI sáº½ má»Ÿ rá»™ng thÃ nh vÄƒn báº£n Ä‘áº§y Ä‘á»§)"
                                Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                Margin="0,0,0,15"
                                TextWrapping="Wrap"
                                MinHeight="120"
                                AcceptsReturn="True"/>

                        <!-- Signer -->
                        <TextBox x:Name="txtSigner" 
                                materialDesign:HintAssist.Hint="NgÆ°á»i kÃ½ (VD: Chá»§ tá»‹ch UBND)"
                                Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                Margin="0,0,0,20"/>

                        <!-- Template Selection -->
                        <ComboBox x:Name="cboTemplate" 
                                 materialDesign:HintAssist.Hint="Máº«u vÄƒn báº£n (tÃ¹y chá»n)"
                                 Style="{StaticResource MaterialDesignOutlinedComboBox}"
                                 Margin="0,0,0,20"/>

                        <!-- NEW DIALOG BUTTON (with sample loading feature) -->
                        <Button x:Name="btnNewDocument" 
                               Style="{StaticResource MaterialDesignRaisedDarkButton}"
                               Height="55"
                               Click="NewDocument_Click"
                               Margin="0,0,0,15">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="FileDocumentPlus" Width="26" Height="26" 
                                                        VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <StackPanel>
                                    <TextBlock Text="ðŸ“ Táº O VÄ‚N Báº¢N Má»šI Vá»šI AI" FontSize="14" FontWeight="Bold"/>
                                    <TextBlock Text="(CÃ³ 17 máº«u dá»¯ liá»‡u sáºµn)" FontSize="10" Opacity="0.8"/>
                                </StackPanel>
                            </StackPanel>
                        </Button>

                        <!-- Generate Button (old method) -->
                        <Button x:Name="btnGenerate" 
                               Style="{StaticResource MaterialDesignRaisedButton}"
                               Height="50"
                               Click="Generate_Click">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="AutoFix" Width="24" Height="24" 
                                                        VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <TextBlock Text="âœ¨ Táº O Báº°NG FORM (cÃ¡ch cÅ©)" FontSize="14" FontWeight="Bold"/>
                            </StackPanel>
                        </Button>

                        <TextBlock Text="ðŸ’¡ Máº¹o: DÃ¹ng nÃºt mÃ u tá»‘i á»Ÿ trÃªn Ä‘á»ƒ dÃ¹ng tÃ­nh nÄƒng má»›i!" 
                                  Foreground="Gray" FontSize="11" TextWrapping="Wrap" 
                                  Margin="0,10,0,0" FontStyle="Italic"/>
                    </StackPanel>
                </ScrollViewer>
            </materialDesign:Card>

            <!-- Output Preview -->
            <materialDesign:Card Grid.Column="1" Padding="20">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Preview Header -->
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                        <TextBlock Text="ðŸ“„ Káº¾T QUáº¢" FontWeight="Bold" FontSize="16" VerticalAlignment="Center"/>
                        
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="20,0,0,0">
                            <Button Style="{StaticResource MaterialDesignOutlinedButton}"
                                   Click="Copy_Click" ToolTip="Copy vÄƒn báº£n"
                                   Margin="0,0,10,0">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="ContentCopy" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                    <TextBlock Text="Copy"/>
                                </StackPanel>
                            </Button>
                            
                            <Button Style="{StaticResource MaterialDesignOutlinedButton}"
                                   Click="SaveToDatabase_Click" ToolTip="LÆ°u vÃ o cÆ¡ sá»Ÿ dá»¯ liá»‡u"
                                   Margin="0,0,10,0">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="ContentSave" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                    <TextBlock Text="LÆ°u DB"/>
                                </StackPanel>
                            </Button>
                            
                            <Button Style="{StaticResource MaterialDesignRaisedSecondaryButton}"
                                   Click="ExportWord_Click" ToolTip="Xuáº¥t ra file Word">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="MicrosoftWord" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                    <TextBlock Text="Xuáº¥t Word"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </StackPanel>

                    <!-- Preview Content -->
                    <Border Grid.Row="1" BorderBrush="{DynamicResource MaterialDesignDivider}" 
                           BorderThickness="1" CornerRadius="4" Padding="20"
                           Background="White">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <TextBox x:Name="txtPreview" 
                                    TextWrapping="Wrap"
                                    IsReadOnly="True"
                                    BorderThickness="0"
                                    FontFamily="Times New Roman"
                                    FontSize="14"
                                    Text="Nháº­p thÃ´ng tin vÃ  click 'Táº¡o vÄƒn báº£n báº±ng AI' Ä‘á»ƒ báº¯t Ä‘áº§u..."/>
                        </ScrollViewer>
                    </Border>

                    <!-- Status Bar -->
                    <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,15,0,0">
                        <materialDesign:PackIcon Kind="InformationOutline" VerticalAlignment="Center" Margin="0,0,10,0"/>
                        <TextBlock x:Name="txtStatus" Text="Sáºµn sÃ ng" VerticalAlignment="Center" Foreground="Gray"/>
                    </StackPanel>
                </Grid>
            </materialDesign:Card>
        </Grid>
    </Grid>
</Page>
