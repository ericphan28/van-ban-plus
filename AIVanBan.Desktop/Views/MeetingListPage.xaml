<Page x:Class="AIVanBan.Desktop.Views.MeetingListPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      Title="Quáº£n lÃ½ Cuá»™c há»p">
    
    <Grid Background="{DynamicResource MaterialDesignPaper}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>  <!-- Header -->
            <RowDefinition Height="Auto"/>  <!-- Search/Filter -->
            <RowDefinition Height="Auto"/>  <!-- Stats -->
            <RowDefinition Height="*"/>     <!-- Meeting List -->
        </Grid.RowDefinitions>
        
        <!-- ============ ROW 0: HEADER ============ -->
        <materialDesign:ColorZone Grid.Row="0" Mode="PrimaryMid" Padding="16,12" 
                                  materialDesign:ElevationAssist.Elevation="Dp2">
            <DockPanel>
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="CalendarClock" Width="28" Height="28" 
                                            VerticalAlignment="Center"/>
                    <TextBlock Text="QUáº¢N LÃ CUá»˜C Há»ŒP" FontSize="18" FontWeight="Bold" 
                              VerticalAlignment="Center" Margin="10,0,0,0"/>
                </StackPanel>
                
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" DockPanel.Dock="Right">
                    <Button Style="{StaticResource MaterialDesignOutlinedButton}"
                           Padding="12,6" Margin="0,0,8,0"
                           Foreground="White" BorderBrush="#FFFFFF40"
                           Click="ExportAllMeetings_Click" ToolTip="Xuáº¥t danh sÃ¡ch cuá»™c há»p ra Word">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="FileWord" VerticalAlignment="Center" Margin="0,0,6,0"/>
                            <TextBlock Text="Xuáº¥t Word" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="btnAddMeeting" Style="{StaticResource MaterialDesignRaisedButton}"
                           Padding="16,6" Click="AddMeeting_Click" ToolTip="ThÃªm cuá»™c há»p má»›i">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Plus" VerticalAlignment="Center" Margin="0,0,6,0"/>
                            <TextBlock Text="ThÃªm cuá»™c há»p" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </DockPanel>
        </materialDesign:ColorZone>
        
        <!-- ============ ROW 1: SEARCH & FILTER ============ -->
        <Border Grid.Row="1" Background="{DynamicResource MaterialDesignCardBackground}" 
                Padding="16,10" BorderBrush="{DynamicResource MaterialDesignDivider}" 
                BorderThickness="0,0,0,1">
            <WrapPanel Orientation="Horizontal" VerticalAlignment="Center">
                <!-- Search Box -->
                <TextBox x:Name="txtSearch" Width="280" Margin="0,0,12,4"
                        materialDesign:HintAssist.Hint="ðŸ” TÃ¬m kiáº¿m cuá»™c há»p..."
                        materialDesign:TextFieldAssist.HasClearButton="True"
                        Style="{StaticResource MaterialDesignOutlinedTextBox}"
                        materialDesign:HintAssist.IsFloating="False"
                        KeyDown="TxtSearch_KeyDown"
                        Padding="8,6"/>
                
                <!-- Type Filter -->
                <ComboBox x:Name="cboType" Width="170" Margin="0,0,12,4"
                         materialDesign:HintAssist.Hint="Loáº¡i cuá»™c há»p"
                         materialDesign:HintAssist.IsFloating="False"
                         Style="{StaticResource MaterialDesignOutlinedComboBox}"
                         SelectionChanged="Filter_Changed">
                    <ComboBoxItem Content="Táº¥t cáº£ loáº¡i" IsSelected="True" Tag=""/>
                </ComboBox>
                
                <!-- Status Filter -->
                <ComboBox x:Name="cboStatus" Width="150" Margin="0,0,12,4"
                         materialDesign:HintAssist.Hint="Tráº¡ng thÃ¡i"
                         materialDesign:HintAssist.IsFloating="False"
                         Style="{StaticResource MaterialDesignOutlinedComboBox}"
                         SelectionChanged="Filter_Changed">
                    <ComboBoxItem Content="Táº¥t cáº£" IsSelected="True" Tag=""/>
                    <ComboBoxItem Content="ðŸ“… ÄÃ£ lÃªn lá»‹ch" Tag="Scheduled"/>
                    <ComboBoxItem Content="ðŸ”´ Äang diá»…n ra" Tag="InProgress"/>
                    <ComboBoxItem Content="âœ… ÄÃ£ káº¿t thÃºc" Tag="Completed"/>
                    <ComboBoxItem Content="â¸ï¸ HoÃ£n" Tag="Postponed"/>
                    <ComboBoxItem Content="âŒ Há»§y" Tag="Cancelled"/>
                </ComboBox>
                
                <!-- Date From -->
                <DatePicker x:Name="dpFrom" Width="140" Margin="0,0,8,4"
                           materialDesign:HintAssist.Hint="Tá»« ngÃ y"
                           materialDesign:HintAssist.IsFloating="False"
                           Style="{StaticResource MaterialDesignOutlinedDatePicker}"
                           SelectedDateChanged="Filter_Changed"/>
                
                <!-- Date To -->
                <DatePicker x:Name="dpTo" Width="140" Margin="0,0,12,4"
                           materialDesign:HintAssist.Hint="Äáº¿n ngÃ y"
                           materialDesign:HintAssist.IsFloating="False"
                           Style="{StaticResource MaterialDesignOutlinedDatePicker}"
                           SelectedDateChanged="Filter_Changed"/>
                
                <!-- Clear Filter -->
                <Button Style="{StaticResource MaterialDesignOutlinedButton}" 
                       Padding="10,4" Margin="0,0,0,4"
                       Click="ClearFilter_Click" ToolTip="XÃ³a bá»™ lá»c">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="FilterRemove" Width="18" Height="18" 
                                                VerticalAlignment="Center" Margin="0,0,4,0"/>
                        <TextBlock Text="XÃ³a lá»c" VerticalAlignment="Center" FontSize="12"/>
                    </StackPanel>
                </Button>
            </WrapPanel>
        </Border>
        
        <!-- ============ ROW 2: STATS BAR ============ -->
        <Border Grid.Row="2" Background="#FFF3E0" Padding="16,8" 
                BorderBrush="{DynamicResource MaterialDesignDivider}" BorderThickness="0,0,0,1">
            <WrapPanel Orientation="Horizontal" VerticalAlignment="Center">
                <TextBlock x:Name="txtTotalMeetings" Text="ðŸ“‹ Tá»•ng: 0 cuá»™c há»p" 
                          FontSize="13" FontWeight="SemiBold" Margin="0,0,24,0"
                          VerticalAlignment="Center"/>
                <TextBlock x:Name="txtThisMonth" Text="ðŸ“… ThÃ¡ng nÃ y: 0" 
                          FontSize="13" Margin="0,0,24,0" VerticalAlignment="Center"/>
                <TextBlock x:Name="txtUpcoming" Text="â° Sáº¯p tá»›i: 0" 
                          FontSize="13" Margin="0,0,24,0" VerticalAlignment="Center"/>
                <TextBlock x:Name="txtPendingTasks" Text="ðŸ“Œ NV chÆ°a xong: 0" 
                          FontSize="13" Margin="0,0,24,0" VerticalAlignment="Center"/>
                <TextBlock x:Name="txtOverdueTasks" Text="ðŸ”´ NV quÃ¡ háº¡n: 0" 
                          FontSize="13" Foreground="#E53935" FontWeight="SemiBold"
                          VerticalAlignment="Center"/>
            </WrapPanel>
        </Border>
        
        <!-- ============ ROW 3: MEETING LIST ============ -->
        <Grid Grid.Row="3">
            <!-- Meeting Cards -->
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel x:Name="meetingListPanel" Margin="16">
                    <!-- Meeting cards will be added here in code-behind -->
                </StackPanel>
            </ScrollViewer>
            
            <!-- Empty State -->
            <StackPanel x:Name="emptyState" Visibility="Collapsed"
                       VerticalAlignment="Center" HorizontalAlignment="Center">
                <materialDesign:PackIcon Kind="CalendarBlank" Width="80" Height="80" 
                                        Foreground="#BDBDBD" HorizontalAlignment="Center"/>
                <TextBlock Text="ChÆ°a cÃ³ cuá»™c há»p nÃ o" FontSize="18" FontWeight="SemiBold"
                          Foreground="#757575" TextAlignment="Center" Margin="0,16,0,8"/>
                <TextBlock Text="Nháº¥n nÃºt &quot;ThÃªm cuá»™c há»p&quot; Ä‘á»ƒ báº¯t Ä‘áº§u quáº£n lÃ½ lá»‹ch há»p"
                          FontSize="14" Foreground="#9E9E9E" TextAlignment="Center" Margin="0,0,0,20"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,0">
                    <Button Style="{StaticResource MaterialDesignRaisedButton}"
                           Padding="20,8" Click="AddMeeting_Click" Margin="0,0,12,0">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Plus" VerticalAlignment="Center" Margin="0,0,6,0"/>
                            <TextBlock Text="ThÃªm cuá»™c há»p Ä‘áº§u tiÃªn" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Button Style="{StaticResource MaterialDesignOutlinedButton}"
                           Padding="20,8" Click="SeedDemoMeetings_Click">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="DatabaseImport" VerticalAlignment="Center" Margin="0,0,6,0"/>
                            <TextBlock Text="Táº¡o dá»¯ liá»‡u máº«u" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Grid>
</Page>
