<Window x:Class="AIVanBan.Desktop.Views.UnifiedSetupWizard"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="ðŸ›ï¸ THIáº¾T Láº¬P CÆ  QUAN â€” VanBanPlus" 
        Width="780" Height="680"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="{DynamicResource MaterialDesignPaper}">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#1565C0" Padding="25,18">
            <StackPanel>
                <TextBlock Text="ðŸ›ï¸ THIáº¾T Láº¬P CÆ  QUAN Láº¦N Äáº¦U" 
                           FontSize="24" FontWeight="Bold"
                           Foreground="White"
                           HorizontalAlignment="Center"/>
                <TextBlock Text="Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng táº¡o cáº¥u trÃºc ThÆ° má»¥c TÃ i liá»‡u vÃ  Album áº¢nh phÃ¹ há»£p" 
                           FontSize="13" Foreground="#B3D4FC"
                           HorizontalAlignment="Center"
                           Margin="0,6,0,0"/>
            </StackPanel>
        </Border>
        
        <!-- Step Indicator -->
        <Border Grid.Row="1" Background="#E3F2FD" Padding="20,12">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Border x:Name="stepIndicator1" Background="#1565C0" CornerRadius="15" Padding="12,5" Margin="0,0,8,0">
                    <TextBlock Text="â¶ Loáº¡i cÆ¡ quan" FontSize="13" Foreground="White" FontWeight="SemiBold"/>
                </Border>
                <TextBlock Text="â†’" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="#90CAF9"/>
                <Border x:Name="stepIndicator2" Background="#90CAF9" CornerRadius="15" Padding="12,5" Margin="0,0,8,0">
                    <TextBlock x:Name="txtStep2Label" Text="â· ThÃ´ng tin" FontSize="13" Foreground="White"/>
                </Border>
                <TextBlock Text="â†’" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="#90CAF9"/>
                <Border x:Name="stepIndicator3" Background="#90CAF9" CornerRadius="15" Padding="12,5">
                    <TextBlock x:Name="txtStep3Label" Text="â¸ XÃ¡c nháº­n" FontSize="13" Foreground="White"/>
                </Border>
            </StackPanel>
        </Border>
        
        <!-- Content -->
        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" Margin="25,15,25,0">
            <Grid>
                
                <!-- STEP 1: Chá»n loáº¡i cÆ¡ quan -->
                <materialDesign:Card x:Name="step1Panel" Padding="22" Visibility="Visible">
                    <StackPanel>
                        <TextBlock Text="BÆ°á»›c 1: Chá»n loáº¡i cÆ¡ quan cá»§a báº¡n" 
                                   FontSize="18" FontWeight="Bold"
                                   Margin="0,0,0,5"/>
                        <TextBlock Text="Chá»n Ä‘Ãºng loáº¡i Ä‘á»ƒ há»‡ thá»‘ng táº¡o cáº¥u trÃºc phÃ¹ há»£p nháº¥t" 
                                   FontSize="12" Foreground="Gray" Margin="0,0,0,18"/>
                        
                        <ComboBox x:Name="cboOrganizationType"
                                  materialDesign:HintAssist.Hint="ðŸ›ï¸ Loáº¡i cÆ¡ quan"
                                  Style="{StaticResource MaterialDesignOutlinedComboBox}"
                                  FontSize="14"
                                  MaxDropDownHeight="350"
                                  SelectionChanged="OrganizationType_SelectionChanged">
                            
                            <!-- CÆ  QUAN CHÃNH QUYá»€N -->
                            <ComboBoxItem Content="â”â”â” CÆ  QUAN CHÃNH QUYá»€N â”â”â”" IsEnabled="False" FontWeight="Bold" Foreground="#1976D2"/>
                            <ComboBoxItem Content="  â–ª UBND XÃ£/PhÆ°á»ng/Thá»‹ tráº¥n" Tag="UbndXa"/>
                            <ComboBoxItem Content="  â–ª UBND Tá»‰nh/ThÃ nh phá»‘ TW" Tag="UbndTinh"/>
                            <ComboBoxItem Content="  â–ª HÄND XÃ£/PhÆ°á»ng/Thá»‹ tráº¥n" Tag="HdndXa"/>
                            <ComboBoxItem Content="  â–ª HÄND Tá»‰nh/ThÃ nh phá»‘" Tag="HdndTinh"/>
                            <ComboBoxItem Content="  â–ª VÄƒn phÃ²ng UBND/HÄND" Tag="VanPhong"/>
                            <ComboBoxItem Content="  â–ª Trung tÃ¢m HÃ nh chÃ­nh cÃ´ng" Tag="TrungTamHanhChinh"/>
                            
                            <!-- CÆ  QUAN Äáº¢NG -->
                            <ComboBoxItem Content="â”â”â” CÆ  QUAN Äáº¢NG â”â”â”" IsEnabled="False" FontWeight="Bold" Foreground="#D32F2F"/>
                            <ComboBoxItem Content="  â–ª Äáº£ng á»§y XÃ£/PhÆ°á»ng/Thá»‹ tráº¥n" Tag="DangUyXa"/>
                            <ComboBoxItem Content="  â–ª Tá»‰nh á»§y/ThÃ nh á»§y" Tag="DangUyTinh"/>
                            <ComboBoxItem Content="  â–ª Chi bá»™ Äáº£ng" Tag="ChiBoDang"/>
                            <ComboBoxItem Content="  â–ª Äáº£ng bá»™ cÆ¡ quan" Tag="DangBo"/>
                            
                            <!-- BAN Cá»¦A Tá»ˆNH á»¦Y -->
                            <ComboBoxItem Content="â”â”â” BAN Cá»¦A Tá»ˆNH á»¦Y â”â”â”" IsEnabled="False" FontWeight="Bold" Foreground="#D32F2F"/>
                            <ComboBoxItem Content="  â–ª Ban DÃ¢n váº­n" Tag="BanDanVan"/>
                            <ComboBoxItem Content="  â–ª Ban Tá»• chá»©c" Tag="BanToChuc"/>
                            <ComboBoxItem Content="  â–ª Ban TuyÃªn giÃ¡o" Tag="BanTuyenGiao"/>
                            <ComboBoxItem Content="  â–ª Ban Kiá»ƒm tra" Tag="BanKiemTra"/>
                            <ComboBoxItem Content="  â–ª Ban Ná»™i chÃ­nh" Tag="BanNoiChinh"/>
                            <ComboBoxItem Content="  â–ª Ban Kinh táº¿" Tag="BanKinhTe"/>
                            <ComboBoxItem Content="  â–ª Ban VÄƒn hÃ³a - XÃ£ há»™i" Tag="BanVanHoa"/>
                            
                            <!-- Máº¶T TRáº¬N - ÄOÃ€N THá»‚ -->
                            <ComboBoxItem Content="â”â”â” Máº¶T TRáº¬N - ÄOÃ€N THá»‚ â”â”â”" IsEnabled="False" FontWeight="Bold" Foreground="#388E3C"/>
                            <ComboBoxItem Content="  â–ª Máº·t tráº­n Tá»• quá»‘c" Tag="MatTran"/>
                            <ComboBoxItem Content="  â–ª Há»™i NÃ´ng dÃ¢n" Tag="HoiNongDan"/>
                            <ComboBoxItem Content="  â–ª Há»™i Phá»¥ ná»¯" Tag="HoiPhuNu"/>
                            <ComboBoxItem Content="  â–ª ÄoÃ n Thanh niÃªn" Tag="DoanThanhNien"/>
                            <ComboBoxItem Content="  â–ª Há»™i Cá»±u chiáº¿n binh" Tag="HoiCuuChienBinh"/>
                            <ComboBoxItem Content="  â–ª CÃ´ng Ä‘oÃ n" Tag="CongDoan"/>
                            <ComboBoxItem Content="  â–ª Há»™i Chá»¯ tháº­p Ä‘á»" Tag="HoiChapThap"/>
                            <ComboBoxItem Content="  â–ª Há»™i Khuyáº¿n há»c" Tag="HoiKhuyenHoc"/>
                            
                            <!-- Sá»ž - BAN - NGÃ€NH -->
                            <ComboBoxItem Content="â”â”â” Sá»ž - BAN - NGÃ€NH (Cáº¤P Tá»ˆNH) â”â”â”" IsEnabled="False" FontWeight="Bold" Foreground="#F57C00"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ Ná»™i vá»¥" Tag="SoNoiVu"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ TÃ i chÃ­nh" Tag="SoTaiChinh"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ Káº¿ hoáº¡ch &amp; Äáº§u tÆ°" Tag="SoKhoHo"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ GiÃ¡o dá»¥c &amp; ÄÃ o táº¡o" Tag="SoGiaoDuc"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ Y táº¿" Tag="SoYTe"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ NÃ´ng nghiá»‡p &amp; PTNT" Tag="SoNongNghiep"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ CÃ´ng thÆ°Æ¡ng" Tag="SoCongThuong"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ VÄƒn hÃ³a, TT &amp; DL" Tag="SoVanHoa"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ TÃ i nguyÃªn &amp; MT" Tag="SoTaiNguyen"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ XÃ¢y dá»±ng" Tag="SoXayDung"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ Giao thÃ´ng Váº­n táº£i" Tag="SoGiaoThong"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ TÆ° phÃ¡p" Tag="SoTuPhap"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ ThÃ´ng tin &amp; TT" Tag="SoThongTin"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ Lao Ä‘á»™ng TBXH" Tag="SoLaoDong"/>
                            <ComboBoxItem Content="  â–ª Sá»Ÿ Khoa há»c &amp; CN" Tag="SoKhoaHoc"/>
                            
                            <!-- GIÃO Dá»¤C & Y Táº¾ -->
                            <ComboBoxItem Content="â”â”â” GIÃO Dá»¤C &amp; Y Táº¾ â”â”â”" IsEnabled="False" FontWeight="Bold" Foreground="#7B1FA2"/>
                            <ComboBoxItem Content="  â–ª TrÆ°á»ng Máº§m non" Tag="TruongMamNon"/>
                            <ComboBoxItem Content="  â–ª TrÆ°á»ng Tiá»ƒu há»c" Tag="TruongTieuHoc"/>
                            <ComboBoxItem Content="  â–ª TrÆ°á»ng THCS" Tag="TruongTHCS"/>
                            <ComboBoxItem Content="  â–ª TrÆ°á»ng THPT" Tag="TruongTHPT"/>
                            <ComboBoxItem Content="  â–ª TrÆ°á»ng Äáº¡i há»c/Cao Ä‘áº³ng" Tag="TruongDaiHoc"/>
                            <ComboBoxItem Content="  â–ª Tráº¡m Y táº¿ XÃ£" Tag="TramYTe"/>
                            <ComboBoxItem Content="  â–ª Trung tÃ¢m Y táº¿" Tag="TrungTamYTe"/>
                            <ComboBoxItem Content="  â–ª Bá»‡nh viá»‡n" Tag="BenhVien"/>
                            
                            <!-- CÆ  QUAN KHÃC -->
                            <ComboBoxItem Content="â”â”â” CÆ  QUAN KHÃC â”â”â”" IsEnabled="False" FontWeight="Bold" Foreground="#455A64"/>
                            <ComboBoxItem Content="  â–ª CÃ´ng an" Tag="CongAn"/>
                            <ComboBoxItem Content="  â–ª Trung tÃ¢m VÄƒn hÃ³a" Tag="TrungTamVanHoa"/>
                            <ComboBoxItem Content="  â–ª ThÆ° viá»‡n" Tag="ThuVien"/>
                            <ComboBoxItem Content="  â–ª Báº£o tÃ ng/Viá»‡n/Di tÃ­ch" Tag="BaoTangVienDi"/>
                            <ComboBoxItem Content="  â–ª CÃ´ng ty NhÃ  nÆ°á»›c" Tag="CongTyNhaNuoc"/>
                            <ComboBoxItem Content="  â–ª CÆ¡ quan TÃ¹y chá»n" Tag="CoQuanTuyChon"/>
                        </ComboBox>
                        
                        <!-- Info box -->
                        <Border Background="#FFF3E0" CornerRadius="6" Padding="14" Margin="0,18,0,0">
                            <StackPanel>
                                <TextBlock Text="ðŸ’¡ Thiáº¿t láº­p nÃ y sáº½ táº¡o Ä‘á»“ng thá»i:" 
                                           FontWeight="SemiBold" FontSize="13" Margin="0,0,0,8"/>
                                <TextBlock Text="ðŸ“‚ Cáº¥u trÃºc thÆ° má»¥c Quáº£n lÃ½ TÃ i liá»‡u (VB Ä‘áº¿n, VB Ä‘i, há»“ sÆ¡...)" 
                                           FontSize="12" Margin="12,2"/>
                                <TextBlock Text="ðŸ–¼ï¸ Cáº¥u trÃºc Album áº¢nh theo nghiá»‡p vá»¥ (sá»± kiá»‡n, cÃ´ng trÃ¬nh, lá»… há»™i...)" 
                                           FontSize="12" Margin="12,2"/>
                                <TextBlock Text="âš™ï¸ Cáº¥u hÃ¬nh kÃ½ hiá»‡u viáº¿t táº¯t CQ dÃ¹ng trong kÃ½ hiá»‡u vÄƒn báº£n" 
                                           FontSize="12" Margin="12,2"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </materialDesign:Card>
                
                <!-- STEP 2: Nháº­p thÃ´ng tin cÆ¡ quan -->
                <materialDesign:Card x:Name="step2Panel" Padding="22" Visibility="Collapsed">
                    <StackPanel>
                        <TextBlock Text="BÆ°á»›c 2: Nháº­p thÃ´ng tin cÆ¡ quan" 
                                   FontSize="18" FontWeight="Bold"
                                   Margin="0,0,0,5"/>
                        <TextBlock Text="ThÃ´ng tin nÃ y dÃ¹ng cho kÃ½ hiá»‡u vÄƒn báº£n vÃ  phÃ¢n loáº¡i tÃ i liá»‡u" 
                                   FontSize="12" Foreground="Gray" Margin="0,0,0,18"/>
                        
                        <TextBox x:Name="txtOrgFullName"
                                 materialDesign:HintAssist.Hint="ðŸ“‹ TÃªn Ä‘áº§y Ä‘á»§ cÆ¡ quan (VD: á»¦Y BAN NHÃ‚N DÃ‚N XÃƒ HÃ’A BÃŒNH)"
                                 Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                 FontSize="14"
                                 Margin="0,0,0,15"
                                 TextChanged="OrgName_TextChanged"/>
                        
                        <TextBox x:Name="txtOrgAbbreviation"
                                 materialDesign:HintAssist.Hint="âœï¸ KÃ½ hiá»‡u viáº¿t táº¯t CQ (VD: UBND, SYT, SGDDT)"
                                 Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                 FontSize="14"
                                 Margin="0,0,0,8"/>
                        
                        <TextBlock Text="â„¹ï¸ KÃ½ hiá»‡u viáº¿t táº¯t dÃ¹ng trong sá»‘ hiá»‡u vÄƒn báº£n: Sá»‘/Loáº¡i-CQ (VD: 15/QÄ-UBND) â€” Phá»¥ lá»¥c VI, NÄ 30/2020"
                                   FontSize="11" Foreground="#757575" Margin="0,4,0,0" TextWrapping="Wrap"/>
                    </StackPanel>
                </materialDesign:Card>
                
                <!-- STEP 3: XÃ¡c nháº­n & Preview -->
                <materialDesign:Card x:Name="step3Panel" Padding="22" Visibility="Collapsed">
                    <StackPanel>
                        <TextBlock Text="BÆ°á»›c 3: XÃ¡c nháº­n thiáº¿t láº­p" 
                                   FontSize="18" FontWeight="Bold"
                                   Margin="0,0,0,5"/>
                        <TextBlock Text="Kiá»ƒm tra thÃ´ng tin trÆ°á»›c khi há»‡ thá»‘ng táº¡o cáº¥u trÃºc" 
                                   FontSize="12" Foreground="Gray" Margin="0,0,0,18"/>
                        
                        <!-- Org info summary -->
                        <Border Background="#E8F5E9" CornerRadius="6" Padding="14" Margin="0,0,0,15">
                            <StackPanel>
                                <TextBlock Text="ðŸ“Œ ThÃ´ng tin cÆ¡ quan:" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,8"/>
                                <TextBlock x:Name="txtSummaryOrgName" FontSize="13" Margin="12,2" TextWrapping="Wrap"/>
                                <TextBlock x:Name="txtSummaryOrgType" FontSize="13" Margin="12,2"/>
                                <TextBlock x:Name="txtSummaryAbbrev" FontSize="13" Margin="12,2"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Two columns: Document + Album -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="12"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Document structure preview -->
                            <Border Grid.Column="0" Background="#E3F2FD" CornerRadius="6" Padding="12">
                                <StackPanel>
                                    <TextBlock Text="ðŸ“‚ THÆ¯ Má»¤C TÃ€I LIá»†U" FontWeight="Bold" FontSize="13" Margin="0,0,0,8"/>
                                    <TextBlock x:Name="txtDocStructurePreview" FontSize="11" TextWrapping="Wrap"
                                               Foreground="#37474F" LineHeight="20"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Album structure preview -->
                            <Border Grid.Column="2" Background="#FFF3E0" CornerRadius="6" Padding="12">
                                <StackPanel>
                                    <TextBlock Text="ðŸ–¼ï¸ ALBUM áº¢NH" FontWeight="Bold" FontSize="13" Margin="0,0,0,8"/>
                                    <TextBlock x:Name="txtAlbumStructurePreview" FontSize="11" TextWrapping="Wrap"
                                               Foreground="#37474F" LineHeight="20"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                        
                        <!-- Demo data option -->
                        <Border Background="#EDE7F6" CornerRadius="6" Padding="14" Margin="0,15,0,0">
                            <StackPanel>
                                <CheckBox x:Name="chkSeedDemoData" IsChecked="True" Margin="0,0,0,8">
                                    <TextBlock Text="ðŸ“¦ Táº¡o dá»¯ liá»‡u demo Ä‘á»ƒ tham kháº£o (khuyáº¿n nghá»‹ cho láº§n Ä‘áº§u)" 
                                               FontWeight="SemiBold" FontSize="13" TextWrapping="Wrap"/>
                                </CheckBox>
                                <TextBlock Text="Há»‡ thá»‘ng sáº½ táº¡o sáºµn dá»¯ liá»‡u máº«u giá»‘ng thá»±c táº¿ Ä‘á»ƒ báº¡n tham kháº£o cÃ¡ch sá»­ dá»¥ng:" 
                                           FontSize="11" Foreground="#5E35B1" Margin="26,0,0,6" TextWrapping="Wrap"/>
                                <TextBlock Text="  ðŸ“„ 50 vÄƒn báº£n máº«u (cÃ´ng vÄƒn, quyáº¿t Ä‘á»‹nh, bÃ¡o cÃ¡o, tá» trÃ¬nh... Ä‘á»§ 25+ loáº¡i VB)" 
                                           FontSize="11" Foreground="#37474F" Margin="26,0,0,2"/>
                                <TextBlock Text="  ðŸ“… 17 cuá»™c há»p máº«u (giao ban, triá»ƒn khai, chuyÃªn Ä‘á»... cÃ³ Ä‘áº§y Ä‘á»§ tÃ i liá»‡u)" 
                                           FontSize="11" Foreground="#37474F" Margin="26,0,0,2"/>
                                <TextBlock Text="  ðŸ’¡ Báº¡n cÃ³ thá»ƒ xÃ³a dá»¯ liá»‡u demo báº¥t cá»© lÃºc nÃ o sau khi Ä‘Ã£ quen pháº§n má»m" 
                                           FontSize="11" Foreground="#9E9E9E" Margin="26,4,0,0" FontStyle="Italic"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </materialDesign:Card>
                
            </Grid>
        </ScrollViewer>
        
        <!-- Footer Buttons -->
        <Border Grid.Row="3" BorderThickness="0,1,0,0" BorderBrush="#E0E0E0" Padding="25,15">
            <Grid>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <Button Content="âœ– Bá» qua"
                            Style="{StaticResource MaterialDesignFlatButton}"
                            Click="Skip_Click"
                            Width="100" Height="38"
                            Foreground="Gray"/>
                </StackPanel>
                
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button x:Name="btnBack"
                            Content="â† Quay láº¡i"
                            Style="{StaticResource MaterialDesignOutlinedButton}"
                            Click="Back_Click"
                            Visibility="Collapsed"
                            Margin="0,0,10,0"
                            Width="120" Height="38"/>
                    
                    <Button x:Name="btnNext"
                            Content="Tiáº¿p theo â†’"
                            Style="{StaticResource MaterialDesignRaisedButton}"
                            Click="Next_Click"
                            IsEnabled="False"
                            Width="130" Height="38"/>
                    
                    <Button x:Name="btnComplete"
                            Content="âœ… HoÃ n thÃ nh thiáº¿t láº­p"
                            Style="{StaticResource MaterialDesignRaisedButton}"
                            Click="Complete_Click"
                            Visibility="Collapsed"
                            Width="180" Height="38"
                            Background="#2E7D32" Foreground="White"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
