<Page x:Class="AIVanBan.Desktop.Views.CalendarPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      Title="Lịch tổng hợp"
      Background="#F5F5F5">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="340"/>
        </Grid.ColumnDefinitions>

        <!-- ═══ LEFT: LỊCH ═══ -->
        <DockPanel Grid.Column="0" Margin="16">
            
            <!-- HEADER: Điều hướng tháng -->
            <materialDesign:Card DockPanel.Dock="Top" Padding="16,10" Margin="0,0,0,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel Grid.Column="0" Orientation="Horizontal">
                        <Button Style="{StaticResource MaterialDesignIconButton}"
                                Width="36" Height="36" Click="PrevMonth_Click" ToolTip="Tháng trước">
                            <materialDesign:PackIcon Kind="ChevronLeft" Width="24" Height="24"/>
                        </Button>
                        <Button Style="{StaticResource MaterialDesignIconButton}"
                                Width="36" Height="36" Click="NextMonth_Click" ToolTip="Tháng sau">
                            <materialDesign:PackIcon Kind="ChevronRight" Width="24" Height="24"/>
                        </Button>
                        <Button Style="{StaticResource MaterialDesignFlatButton}"
                                Height="32" Click="Today_Click" Margin="8,0,0,0"
                                Content="Hôm nay" FontSize="12"/>
                    </StackPanel>
                    
                    <TextBlock x:Name="txtMonthYear" Grid.Column="1"
                               Text="Tháng 01/2025" FontSize="20" FontWeight="Bold"
                               Foreground="#37474F" HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                        <Border Background="#FFCDD2" CornerRadius="3" Padding="6,2" Margin="0,0,6,0">
                            <TextBlock Text="Quá hạn" FontSize="10" Foreground="#C62828"/>
                        </Border>
                        <Border Background="#FFF9C4" CornerRadius="3" Padding="6,2" Margin="0,0,6,0">
                            <TextBlock Text="Sắp hạn" FontSize="10" Foreground="#F57F17"/>
                        </Border>
                        <Border Background="#BBDEFB" CornerRadius="3" Padding="6,2" Margin="0,0,6,0">
                            <TextBlock Text="Họp" FontSize="10" Foreground="#1565C0"/>
                        </Border>
                        <Border Background="#C8E6C9" CornerRadius="3" Padding="6,2">
                            <TextBlock Text="Task" FontSize="10" Foreground="#2E7D32"/>
                        </Border>
                    </StackPanel>
                </Grid>
            </materialDesign:Card>
            
            <!-- CALENDAR GRID -->
            <materialDesign:Card Padding="8">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="36"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Tiêu đề ngày trong tuần -->
                    <UniformGrid Grid.Row="0" Columns="7">
                        <TextBlock Text="T2" FontWeight="Bold" FontSize="13" Foreground="#37474F" 
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Text="T3" FontWeight="Bold" FontSize="13" Foreground="#37474F"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Text="T4" FontWeight="Bold" FontSize="13" Foreground="#37474F"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Text="T5" FontWeight="Bold" FontSize="13" Foreground="#37474F"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Text="T6" FontWeight="Bold" FontSize="13" Foreground="#37474F"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Text="T7" FontWeight="Bold" FontSize="13" Foreground="#E65100"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Text="CN" FontWeight="Bold" FontSize="13" Foreground="#C62828"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </UniformGrid>
                    
                    <!-- Ô ngày -->
                    <UniformGrid x:Name="calendarGrid" Grid.Row="1" Columns="7" Rows="6"/>
                </Grid>
            </materialDesign:Card>
        </DockPanel>

        <!-- ═══ RIGHT: CHI TIẾT NGÀY ═══ -->
        <Border Grid.Column="1" Margin="0,16,16,16">
            <materialDesign:Card Padding="16">
                <DockPanel>
                    <StackPanel DockPanel.Dock="Top" Margin="0,0,0,12">
                        <TextBlock x:Name="txtSelectedDate" Text="Chọn ngày để xem chi tiết" 
                                   FontSize="16" FontWeight="Bold" Foreground="#37474F"/>
                        <TextBlock x:Name="txtEventSummary" Text="" FontSize="12" 
                                   Foreground="#888" Margin="0,4,0,0"/>
                    </StackPanel>
                    
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel x:Name="eventListPanel">
                            
                            <!-- Placeholder khi chưa chọn ngày -->
                            <StackPanel x:Name="emptyEventState" HorizontalAlignment="Center" Margin="0,40,0,0">
                                <materialDesign:PackIcon Kind="CalendarBlank" Width="48" Height="48"
                                                        HorizontalAlignment="Center" Foreground="#CCC"/>
                                <TextBlock Text="Chọn một ngày trên lịch&#x0a;để xem sự kiện"
                                          TextAlignment="Center" FontSize="13" Foreground="#AAA" Margin="0,8,0,0"/>
                            </StackPanel>
                            
                        </StackPanel>
                    </ScrollViewer>
                </DockPanel>
            </materialDesign:Card>
        </Border>
    </Grid>
</Page>
