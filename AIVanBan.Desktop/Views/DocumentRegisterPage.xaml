<Page x:Class="AIVanBan.Desktop.Views.DocumentRegisterPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      Title="Sá»• vÄƒn báº£n">

    <Grid Margin="30,20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,16">
            <StackPanel Orientation="Horizontal">
                <materialDesign:PackIcon Kind="BookOpenPageVariant" Width="32" Height="32"
                                        VerticalAlignment="Center" Margin="0,0,12,0"
                                        Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                <TextBlock Text="Sá»” VÄ‚N Báº¢N" FontSize="24" FontWeight="Bold"
                          VerticalAlignment="Center"/>
            </StackPanel>
            <TextBlock Text="Theo dÃµi vÄƒn báº£n Ä‘i, vÄƒn báº£n Ä‘áº¿n vÃ  vÄƒn báº£n ná»™i bá»™"
                      FontSize="13" Foreground="{DynamicResource MaterialDesignBodyLight}"
                      Margin="44,4,0,0"/>
        </StackPanel>

        <!-- Statistics Cards -->
        <Grid Grid.Row="1" Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Tá»•ng -->
            <materialDesign:Card Grid.Column="0" Padding="16" Margin="0,0,8,0"
                                materialDesign:ElevationAssist.Elevation="Dp2">
                <StackPanel>
                    <TextBlock Text="Tá»•ng vÄƒn báº£n" FontSize="12" Foreground="Gray"/>
                    <TextBlock x:Name="txtTotal" Text="0" FontSize="28" FontWeight="Bold" Foreground="#2196F3"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- VB Äi -->
            <materialDesign:Card Grid.Column="1" Padding="16" Margin="4,0,4,0"
                                materialDesign:ElevationAssist.Elevation="Dp2">
                <StackPanel>
                    <TextBlock Text="ðŸ“¤ VÄƒn báº£n Ä‘i" FontSize="12" Foreground="Gray"/>
                    <TextBlock x:Name="txtOutgoing" Text="0" FontSize="28" FontWeight="Bold" Foreground="#4CAF50"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- VB Äáº¿n -->
            <materialDesign:Card Grid.Column="2" Padding="16" Margin="4,0,4,0"
                                materialDesign:ElevationAssist.Elevation="Dp2">
                <StackPanel>
                    <TextBlock Text="ðŸ“¥ VÄƒn báº£n Ä‘áº¿n" FontSize="12" Foreground="Gray"/>
                    <TextBlock x:Name="txtIncoming" Text="0" FontSize="28" FontWeight="Bold" Foreground="#FF9800"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- Ná»™i bá»™ -->
            <materialDesign:Card Grid.Column="3" Padding="16" Margin="8,0,0,0"
                                materialDesign:ElevationAssist.Elevation="Dp2">
                <StackPanel>
                    <TextBlock Text="ðŸ“‹ Ná»™i bá»™" FontSize="12" Foreground="Gray"/>
                    <TextBlock x:Name="txtInternal" Text="0" FontSize="28" FontWeight="Bold" Foreground="#9C27B0"/>
                </StackPanel>
            </materialDesign:Card>
        </Grid>

        <!-- Filters -->
        <Grid Grid.Row="2" Margin="0,0,0,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="250"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBox Grid.Column="0" x:Name="txtSearch"
                    materialDesign:HintAssist.Hint="ðŸ” TÃ¬m kiáº¿m theo sá»‘, tiÃªu Ä‘á»..."
                    Style="{StaticResource MaterialDesignOutlinedTextBox}"
                    Margin="0,0,10,0" VerticalAlignment="Center"
                    KeyUp="TxtSearch_KeyUp"/>

            <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="0,0,10,0">
                <TextBlock Text="NÄƒm:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                <ComboBox x:Name="cboYear" Width="90"
                         Style="{StaticResource MaterialDesignOutlinedComboBox}"
                         SelectionChanged="CboFilter_Changed"/>
            </StackPanel>

            <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="0,0,10,0">
                <TextBlock Text="Loáº¡i VB:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                <ComboBox x:Name="cboType" Width="140"
                         Style="{StaticResource MaterialDesignOutlinedComboBox}"
                         SelectionChanged="CboFilter_Changed"/>
            </StackPanel>

            <Button Grid.Column="4" Style="{StaticResource MaterialDesignIconButton}"
                   ToolTip="LÃ m má»›i" Click="BtnRefresh_Click">
                <materialDesign:PackIcon Kind="Refresh"/>
            </Button>
        </Grid>

        <!-- Tab Control: Äi / Äáº¿n / Ná»™i bá»™ -->
        <materialDesign:Card Grid.Row="3" materialDesign:ElevationAssist.Elevation="Dp2">
            <TabControl x:Name="tabDirections" Style="{StaticResource MaterialDesignFilledTabControl}"
                       SelectionChanged="TabDirections_Changed">

                <!-- Tab VÄƒn báº£n Äi -->
                <TabItem>
                    <TabItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="EmailSend" Width="18" Height="18"
                                                    VerticalAlignment="Center" Margin="0,0,6,0"/>
                            <TextBlock Text="VÄƒn báº£n Ä‘i" VerticalAlignment="Center"/>
                            <TextBlock x:Name="txtOutgoingCount" Text="" FontSize="11"
                                      Foreground="White" Background="#4CAF50"
                                      Padding="6,2" Margin="8,0,0,0"
                                      VerticalAlignment="Center"/>
                        </StackPanel>
                    </TabItem.Header>
                    <DataGrid x:Name="dgOutgoing" AutoGenerateColumns="False"
                             IsReadOnly="True" CanUserAddRows="False"
                             SelectionMode="Single" HeadersVisibility="Column"
                             materialDesign:DataGridAssist.CellPadding="10 6"
                             GridLinesVisibility="Horizontal"
                             HorizontalGridLinesBrush="{DynamicResource MaterialDesignDivider}"
                             MouseDoubleClick="DataGrid_DoubleClick">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="STT" Binding="{Binding RowNumber}" Width="50"/>
                            <DataGridTextColumn Header="Sá»‘ vÄƒn báº£n" Binding="{Binding Number}" Width="120"/>
                            <DataGridTextColumn Header="NgÃ y ban hÃ nh" Binding="{Binding IssueDate, StringFormat='dd/MM/yyyy'}" Width="110"/>
                            <DataGridTextColumn Header="Loáº¡i" Binding="{Binding Type}" Width="100"/>
                            <DataGridTextColumn Header="TrÃ­ch yáº¿u" Binding="{Binding Subject}" Width="*">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
                                        <Setter Property="ToolTip" Value="{Binding Subject}"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="NgÆ°á»i kÃ½" Binding="{Binding SignedBy}" Width="120"/>
                            <DataGridTextColumn Header="NÆ¡i nháº­n" Binding="{Binding RecipientsText}" Width="150">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
                                        <Setter Property="ToolTip" Value="{Binding RecipientsText}"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </TabItem>

                <!-- Tab VÄƒn báº£n Äáº¿n -->
                <TabItem>
                    <TabItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="EmailReceive" Width="18" Height="18"
                                                    VerticalAlignment="Center" Margin="0,0,6,0"/>
                            <TextBlock Text="VÄƒn báº£n Ä‘áº¿n" VerticalAlignment="Center"/>
                            <TextBlock x:Name="txtIncomingCount" Text="" FontSize="11"
                                      Foreground="White" Background="#FF9800"
                                      Padding="6,2" Margin="8,0,0,0"
                                      VerticalAlignment="Center"/>
                        </StackPanel>
                    </TabItem.Header>
                    <DataGrid x:Name="dgIncoming" AutoGenerateColumns="False"
                             IsReadOnly="True" CanUserAddRows="False"
                             SelectionMode="Single" HeadersVisibility="Column"
                             materialDesign:DataGridAssist.CellPadding="10 6"
                             GridLinesVisibility="Horizontal"
                             HorizontalGridLinesBrush="{DynamicResource MaterialDesignDivider}"
                             MouseDoubleClick="DataGrid_DoubleClick">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="STT" Binding="{Binding RowNumber}" Width="50"/>
                            <DataGridTextColumn Header="Sá»‘ Ä‘áº¿n" Binding="{Binding Number}" Width="120"/>
                            <DataGridTextColumn Header="NgÃ y nháº­n" Binding="{Binding IssueDate, StringFormat='dd/MM/yyyy'}" Width="110"/>
                            <DataGridTextColumn Header="Loáº¡i" Binding="{Binding Type}" Width="100"/>
                            <DataGridTextColumn Header="TrÃ­ch yáº¿u" Binding="{Binding Subject}" Width="*">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
                                        <Setter Property="ToolTip" Value="{Binding Subject}"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="CÆ¡ quan gá»­i" Binding="{Binding Issuer}" Width="150"/>
                            <DataGridTextColumn Header="Tráº¡ng thÃ¡i" Binding="{Binding Status}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </TabItem>

                <!-- Tab Ná»™i bá»™ -->
                <TabItem>
                    <TabItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="FileDocumentMultiple" Width="18" Height="18"
                                                    VerticalAlignment="Center" Margin="0,0,6,0"/>
                            <TextBlock Text="Ná»™i bá»™" VerticalAlignment="Center"/>
                            <TextBlock x:Name="txtInternalCount" Text="" FontSize="11"
                                      Foreground="White" Background="#9C27B0"
                                      Padding="6,2" Margin="8,0,0,0"
                                      VerticalAlignment="Center"/>
                        </StackPanel>
                    </TabItem.Header>
                    <DataGrid x:Name="dgInternal" AutoGenerateColumns="False"
                             IsReadOnly="True" CanUserAddRows="False"
                             SelectionMode="Single" HeadersVisibility="Column"
                             materialDesign:DataGridAssist.CellPadding="10 6"
                             GridLinesVisibility="Horizontal"
                             HorizontalGridLinesBrush="{DynamicResource MaterialDesignDivider}"
                             MouseDoubleClick="DataGrid_DoubleClick">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="STT" Binding="{Binding RowNumber}" Width="50"/>
                            <DataGridTextColumn Header="Sá»‘ vÄƒn báº£n" Binding="{Binding Number}" Width="120"/>
                            <DataGridTextColumn Header="NgÃ y" Binding="{Binding IssueDate, StringFormat='dd/MM/yyyy'}" Width="110"/>
                            <DataGridTextColumn Header="Loáº¡i" Binding="{Binding Type}" Width="100"/>
                            <DataGridTextColumn Header="TrÃ­ch yáº¿u" Binding="{Binding Subject}" Width="*">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
                                        <Setter Property="ToolTip" Value="{Binding Subject}"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="NgÆ°á»i táº¡o" Binding="{Binding CreatedBy}" Width="120"/>
                            <DataGridTextColumn Header="Tráº¡ng thÃ¡i" Binding="{Binding Status}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </TabItem>
            </TabControl>
        </materialDesign:Card>
    </Grid>
</Page>
