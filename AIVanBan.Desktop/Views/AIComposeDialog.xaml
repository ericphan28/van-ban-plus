<Window x:Class="AIVanBan.Desktop.Views.AIComposeDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="AI Soáº¡n tháº£o vÄƒn báº£n" 
        Height="700" 
        Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource MaterialDesignPaper}"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        FontFamily="{DynamicResource MaterialDesignFont}">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="ðŸ¤– AI Soáº¡n tháº£o vÄƒn báº£n" 
                      Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                      Margin="0,0,0,5"/>
            <TextBlock Text="Nháº­p thÃ´ng tin Ä‘á»ƒ AI táº¡o ná»™i dung vÄƒn báº£n tá»± Ä‘á»™ng"
                      Style="{StaticResource MaterialDesignBody2TextBlock}"
                      Foreground="{DynamicResource MaterialDesignBodyLight}"/>
        </StackPanel>

        <!-- Template Selection -->
        <materialDesign:Card Grid.Row="1" Padding="16" Margin="0,0,0,16">
            <StackPanel>
                <TextBlock Text="ðŸ“ Chá»n máº«u vÄƒn báº£n" 
                          Style="{StaticResource MaterialDesignBody1TextBlock}"
                          FontWeight="SemiBold"
                          Margin="0,0,0,8"/>
                
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <ComboBox x:Name="TemplateComboBox"
                             Grid.Column="0"
                             materialDesign:HintAssist.Hint="Chá»n loáº¡i vÄƒn báº£n"
                             Style="{StaticResource MaterialDesignOutlinedComboBox}"
                             DisplayMemberPath="Name"
                             SelectionChanged="TemplateComboBox_SelectionChanged"
                             Margin="0,0,10,0"/>

                    <Button Grid.Column="1"
                           x:Name="ViewTemplateButton"
                           Content="Xem máº«u"
                           Style="{StaticResource MaterialDesignOutlinedButton}"
                           Click="ViewTemplate_Click"
                           IsEnabled="False"/>
                </Grid>

                <!-- Template Info -->
                <StackPanel x:Name="TemplateInfoPanel" 
                           Visibility="Collapsed"
                           Margin="0,12,0,0">
                    <TextBlock x:Name="TemplateDescription"
                              TextWrapping="Wrap"
                              Foreground="{DynamicResource MaterialDesignBodyLight}"/>
                    
                    <TextBlock x:Name="RequiredFieldsText"
                              Margin="0,8,0,0"
                              TextWrapping="Wrap"
                              Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                </StackPanel>
            </StackPanel>
        </materialDesign:Card>

        <!-- Input Fields -->
        <ScrollViewer Grid.Row="2" 
                     VerticalScrollBarVisibility="Auto"
                     Margin="0,0,0,16">
            <StackPanel x:Name="InputFieldsPanel">
                <!-- Dynamic fields will be added here -->
            </StackPanel>
        </ScrollViewer>

        <!-- Generated Content Preview with Rich Text Editor -->
        <Expander Grid.Row="3" 
                 x:Name="PreviewExpander"
                 Header="ðŸ“„ Ná»™i dung vÄƒn báº£n (cÃ³ thá»ƒ chá»‰nh sá»­a)"
                 IsExpanded="False"
                 Margin="0,0,0,16"
                 Visibility="Collapsed">
            <materialDesign:Card Padding="0" Margin="0,8,0,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Rich Text Editor Toolbar -->
                    <ToolBar Grid.Row="0" Background="#F5F5F5" Padding="5">
                        <ComboBox x:Name="FontFamilyComboBox" 
                                 Width="130" 
                                 SelectionChanged="FontFamily_Changed"
                                 ToolTip="PhÃ´ng chá»¯">
                            <ComboBoxItem Content="Times New Roman" IsSelected="True"/>
                            <ComboBoxItem Content="Arial"/>
                            <ComboBoxItem Content="Tahoma"/>
                            <ComboBoxItem Content="Calibri"/>
                        </ComboBox>
                        
                        <ComboBox x:Name="FontSizeComboBox" 
                                 Width="60" 
                                 SelectionChanged="FontSize_Changed"
                                 ToolTip="Cá»¡ chá»¯">
                            <ComboBoxItem Content="10"/>
                            <ComboBoxItem Content="11"/>
                            <ComboBoxItem Content="12"/>
                            <ComboBoxItem Content="13"/>
                            <ComboBoxItem Content="14" IsSelected="True"/>
                            <ComboBoxItem Content="16"/>
                            <ComboBoxItem Content="18"/>
                            <ComboBoxItem Content="20"/>
                        </ComboBox>
                        
                        <Separator/>
                        
                        <Button x:Name="BoldButton" Click="Bold_Click" ToolTip="In Ä‘áº­m (Ctrl+B)" Padding="8,4">
                            <TextBlock Text="B" FontWeight="Bold" FontSize="14"/>
                        </Button>
                        
                        <Button x:Name="ItalicButton" Click="Italic_Click" ToolTip="In nghiÃªng (Ctrl+I)" Padding="8,4">
                            <TextBlock Text="I" FontStyle="Italic" FontSize="14"/>
                        </Button>
                        
                        <Button x:Name="UnderlineButton" Click="Underline_Click" ToolTip="Gáº¡ch chÃ¢n (Ctrl+U)" Padding="8,4">
                            <TextBlock Text="U" TextDecorations="Underline" FontSize="14"/>
                        </Button>
                        
                        <Separator/>
                        
                        <Button x:Name="AlignLeftButton" Click="AlignLeft_Click" ToolTip="CÄƒn trÃ¡i" Padding="8,4">
                            <materialDesign:PackIcon Kind="FormatAlignLeft" Width="16" Height="16"/>
                        </Button>
                        
                        <Button x:Name="AlignCenterButton" Click="AlignCenter_Click" ToolTip="CÄƒn giá»¯a" Padding="8,4">
                            <materialDesign:PackIcon Kind="FormatAlignCenter" Width="16" Height="16"/>
                        </Button>
                        
                        <Button x:Name="AlignRightButton" Click="AlignRight_Click" ToolTip="CÄƒn pháº£i" Padding="8,4">
                            <materialDesign:PackIcon Kind="FormatAlignRight" Width="16" Height="16"/>
                        </Button>
                        
                        <Button x:Name="AlignJustifyButton" Click="AlignJustify_Click" ToolTip="CÄƒn Ä‘á»u" Padding="8,4">
                            <materialDesign:PackIcon Kind="FormatAlignJustify" Width="16" Height="16"/>
                        </Button>
                        
                        <Separator/>
                        
                        <Button x:Name="CopyButton" Click="Copy_Click" ToolTip="Copy ná»™i dung" Padding="8,4">
                            <materialDesign:PackIcon Kind="ContentCopy" Width="16" Height="16"/>
                        </Button>
                        
                        <Button x:Name="ExportWordButton" Click="ExportWord_Click" ToolTip="Xuáº¥t ra Word (.docx)" Padding="8,4">
                            <materialDesign:PackIcon Kind="MicrosoftWord" Width="16" Height="16"/>
                        </Button>
                        
                        <Button x:Name="PrintButton" Click="Print_Click" ToolTip="In vÄƒn báº£n" Padding="8,4">
                            <materialDesign:PackIcon Kind="Printer" Width="16" Height="16"/>
                        </Button>
                    </ToolBar>
                    
                    <!-- RichTextBox for formatted content -->
                    <Border Grid.Row="1" 
                           BorderBrush="#DDDDDD" 
                           BorderThickness="1"
                           Background="White"
                           Margin="5">
                        <ScrollViewer VerticalScrollBarVisibility="Auto" 
                                     HorizontalScrollBarVisibility="Disabled">
                            <RichTextBox x:Name="GeneratedContentRichTextBox"
                                        MinHeight="400"
                                        Padding="20"
                                        FontFamily="Times New Roman"
                                        FontSize="14"
                                        AcceptsTab="True"
                                        AcceptsReturn="True"
                                        InputMethod.IsInputMethodEnabled="True"
                                        BorderThickness="0"/>
                        </ScrollViewer>
                    </Border>
                </Grid>
            </materialDesign:Card>
        </Expander>

        <!-- Action Buttons -->
         <StackPanel Grid.Row="4" 
                 Orientation="Horizontal" 
                 HorizontalAlignment="Right">
            <ComboBox x:Name="SampleScenarioComboBox"
                     Width="200"
                     materialDesign:HintAssist.Hint="Chá»n ká»‹ch báº£n máº«u"
                     Style="{StaticResource MaterialDesignOutlinedComboBox}"
                     SelectionChanged="SampleScenarioComboBox_SelectionChanged"
                     Margin="0,0,10,0">
                <ComboBoxItem Content="ðŸ“„ CÃ´ng vÄƒn xin há»— trá»£ kinh phÃ­" Tag="cv_kinhi"/>
                <ComboBoxItem Content="ðŸŽ¯ CÃ´ng vÄƒn bÃ¡o cÃ¡o tiáº¿n Ä‘á»™" Tag="cv_baocao"/>
                <ComboBoxItem Content="ðŸ’¬ CÃ´ng vÄƒn tráº£ lá»i cÃ´ng vÄƒn" Tag="cv_traloi"/>
                <ComboBoxItem Content="ðŸ† Quyáº¿t Ä‘á»‹nh khen thÆ°á»Ÿng" Tag="qd_khenthuong"/>
                <ComboBoxItem Content="ðŸ‘¤ Quyáº¿t Ä‘á»‹nh Ä‘iá»u Ä‘á»™ng CB" Tag="qd_dieudonng"/>
                <ComboBoxItem Content="ðŸ¢ Quyáº¿t Ä‘á»‹nh thÃ nh láº­p ban" Tag="qd_thanhlap"/>
                <ComboBoxItem Content="ðŸ’° Quyáº¿t Ä‘á»‹nh phÃª duyá»‡t dá»± Ã¡n" Tag="qd_pheduyet"/>
                <ComboBoxItem Content="ðŸ“Š BÃ¡o cÃ¡o tá»•ng káº¿t nÄƒm" Tag="bc_tongket"/>
                <ComboBoxItem Content="ðŸ“ˆ BÃ¡o cÃ¡o tÃ¬nh hÃ¬nh thÃ¡ng" Tag="bc_tinhhinh"/>
                <ComboBoxItem Content="ðŸ’¡ Tá» trÃ¬nh xin Ã½ kiáº¿n" Tag="tt_yikien"/>
                <ComboBoxItem Content="ðŸŽ¯ Tá» trÃ¬nh Ä‘á» xuáº¥t dá»± Ã¡n" Tag="tt_dexuat"/>
                <ComboBoxItem Content="ðŸ“… Káº¿ hoáº¡ch cÃ´ng tÃ¡c nÄƒm" Tag="kh_congtac"/>
                <ComboBoxItem Content="ðŸŽ‰ Káº¿ hoáº¡ch tá»• chá»©c sá»± kiá»‡n" Tag="kh_sukien"/>
                <ComboBoxItem Content="ðŸ¤ ThÃ´ng bÃ¡o há»p quan trá»ng" Tag="tb_hop"/>
                <ComboBoxItem Content="âœ… ThÃ´ng bÃ¡o káº¿t quáº£ há»p" Tag="tb_ketqua"/>
                <ComboBoxItem Content="ðŸ“œ Nghá»‹ quyáº¿t HÄND" Tag="nq_hdnd"/>
                <ComboBoxItem Content="ðŸ›ï¸ Nghá»‹ quyáº¿t UBND" Tag="nq_ubnd"/>
            </ComboBox>
            
            <Button x:Name="LoadSampleButton"
                   Content="ðŸ“¥ Táº£i máº«u"
                   Style="{StaticResource MaterialDesignRaisedButton}"
                   Click="LoadSample_Click"
                   IsEnabled="False"
                   Margin="0,0,10,0">
                <Button.ToolTip>
                    <ToolTip Content="Tá»± Ä‘á»™ng Ä‘iá»n dá»¯ liá»‡u máº«u cho ká»‹ch báº£n Ä‘Ã£ chá»n"/>
                </Button.ToolTip>
            </Button>

            <Button x:Name="GenerateButton"
                   Content="âœ¨ Táº¡o vÄƒn báº£n vá»›i AI"
                   Style="{StaticResource MaterialDesignRaisedButton}"
                   Click="Generate_Click"
                   IsEnabled="False"
                   Margin="0,0,10,0">
                <Button.ToolTip>
                    <ToolTip Content="Sá»­ dá»¥ng AI Ä‘á»ƒ táº¡o ná»™i dung vÄƒn báº£n"/>
                </Button.ToolTip>
            </Button>

             <ProgressBar x:Name="LoadingProgress"
                   Style="{StaticResource MaterialDesignCircularProgressBar}"
                   Value="0"
                   IsIndeterminate="True"
                   Width="24"
                   Height="24"
                   Visibility="Collapsed"
                   Margin="0,0,10,0"/>

             <Button x:Name="SaveDocumentButton"
                 Content="ðŸ’¾ LÆ°u vÄƒn báº£n"
                 Style="{StaticResource MaterialDesignRaisedButton}"
                 Click="Save_Click"
                 IsEnabled="False"
                 Margin="0,0,10,0"/>

             <Button Content="Há»§y"
                 Style="{StaticResource MaterialDesignOutlinedButton}"
                 Click="Cancel_Click"/>
         </StackPanel>
    </Grid>
</Window>
