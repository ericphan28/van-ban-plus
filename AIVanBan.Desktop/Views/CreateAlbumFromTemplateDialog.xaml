<Window x:Class="AIVanBan.Desktop.Views.CreateAlbumFromTemplateDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Táº¡o Album má»›i" 
        Height="600" Width="900"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource MaterialDesignPaper}"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        FontFamily="{materialDesign:MaterialDesignFont}">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="ðŸ“ Táº O ALBUM Má»šI"
                      FontSize="24"
                      FontWeight="Bold"/>
            <TextBlock Text="Chá»n vá»‹ trÃ­ trong cáº¥u trÃºc Ä‘á»ƒ táº¡o album"
                      FontSize="14"
                      Foreground="{DynamicResource MaterialDesignBodyLight}"
                      Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="350"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left: Category/Subcategory Selection -->
            <materialDesign:Card Grid.Column="0" Margin="0,0,10,0" Padding="15">
                <StackPanel>
                    <TextBlock Text="1ï¸âƒ£ Chá»n danh má»¥c" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                    
                    <ComboBox x:Name="cboCategory"
                             materialDesign:HintAssist.Hint="Chá»n danh má»¥c chÃ­nh"
                             Style="{StaticResource MaterialDesignOutlinedComboBox}"
                             SelectionChanged="Category_SelectionChanged"
                             DisplayMemberPath="Name"
                             Margin="0,0,0,20"/>

                    <TextBlock Text="2ï¸âƒ£ Chá»n phÃ¢n loáº¡i" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                    
                    <ComboBox x:Name="cboSubCategory"
                             materialDesign:HintAssist.Hint="Chá»n phÃ¢n loáº¡i"
                             Style="{StaticResource MaterialDesignOutlinedComboBox}"
                             DisplayMemberPath="Name"
                             SelectionChanged="SubCategory_SelectionChanged"
                             IsEnabled="False"
                             Margin="0,0,0,20"/>

                    <TextBlock x:Name="txtCategoryInfo"
                              Text=""
                              TextWrapping="Wrap"
                              FontSize="12"
                              Foreground="{DynamicResource MaterialDesignBodyLight}"
                              Margin="0,0,0,10"
                              Visibility="Collapsed"/>
                    
                    <StackPanel x:Name="pnlSuggestedTags" Visibility="Collapsed" Margin="0,10,0,0">
                        <TextBlock Text="ðŸ·ï¸ Tags gá»£i Ã½:" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <ItemsControl x:Name="icTags">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <materialDesign:Chip Content="{Binding}" 
                                                        Margin="2"
                                                        FontSize="11"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </StackPanel>
            </materialDesign:Card>

            <!-- Right: Album Details -->
            <materialDesign:Card Grid.Column="1" Padding="15">
                <StackPanel>
                    <TextBlock Text="3ï¸âƒ£ ThÃ´ng tin album" FontWeight="Bold" FontSize="14" Margin="0,0,0,15"/>
                    
                    <TextBox x:Name="txtAlbumName"
                            materialDesign:HintAssist.Hint="TÃªn album *"
                            Style="{StaticResource MaterialDesignOutlinedTextBox}"
                            TextChanged="txtAlbumName_TextChanged"
                            Margin="0,0,0,15"/>

                    <TextBox x:Name="txtDescription"
                            materialDesign:HintAssist.Hint="MÃ´ táº£"
                            Style="{StaticResource MaterialDesignOutlinedTextBox}"
                            AcceptsReturn="True"
                            TextWrapping="Wrap"
                            VerticalScrollBarVisibility="Auto"
                            MinLines="3"
                            MaxLines="6"
                            Margin="0,0,0,15"/>

                    <DatePicker x:Name="dpEventDate"
                               materialDesign:HintAssist.Hint="NgÃ y sá»± kiá»‡n"
                               Style="{StaticResource MaterialDesignOutlinedDatePicker}"
                               SelectedDate="{x:Static System:DateTime.Now}"
                               Margin="0,0,0,15"
                               xmlns:System="clr-namespace:System;assembly=mscorlib"/>

                    <TextBox x:Name="txtLocation"
                            materialDesign:HintAssist.Hint="Äá»‹a Ä‘iá»ƒm"
                            Style="{StaticResource MaterialDesignOutlinedTextBox}"
                            Margin="0,0,0,15"/>

                    <Separator Margin="0,10,0,15"/>

                    <TextBlock Text="ðŸ“‚ ÄÆ°á»ng dáº«n sáº½ táº¡o:" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,5"/>
                    <TextBlock x:Name="txtPreviewPath"
                              Text="Chá»n danh má»¥c vÃ  nháº­p tÃªn album..."
                              TextWrapping="Wrap"
                              FontSize="11"
                              Foreground="{DynamicResource MaterialDesignBodyLight}"
                              Background="#F5F5F5"
                              Padding="10"
                              Margin="0,0,0,10"/>

                    <CheckBox x:Name="chkAutoCreateYear"
                             Content="Tá»± Ä‘á»™ng táº¡o trong folder nÄƒm hiá»‡n táº¡i"
                             IsChecked="False"
                             Margin="0,5,0,0"
                             Visibility="Collapsed"/>
                </StackPanel>
            </materialDesign:Card>
        </Grid>

        <!-- Footer -->
        <StackPanel Grid.Row="2" 
                   Orientation="Horizontal" 
                   HorizontalAlignment="Right"
                   Margin="0,20,0,0">
            <Button Content="Há»¦Y"
                   Style="{StaticResource MaterialDesignFlatButton}"
                   Click="Cancel_Click"
                   Margin="0,0,10,0"/>
            <Button x:Name="btnCreate"
                   Content="Táº O ALBUM"
                   Style="{StaticResource MaterialDesignRaisedButton}"
                   Click="Create_Click"
                   IsEnabled="False"/>
        </StackPanel>
    </Grid>
</Window>
